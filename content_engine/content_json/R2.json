import React from 'react';
import {Volume2, Sun, Moon, Lightbulb, Zap, ListOrdered} from 'lucide-react';

export default function UniversalTheorySlide({type, data, onPlayAudio, onComplete}) {
const effectiveType = type || data?.type || '';
const mode = effectiveType.toLowerCase();

const play = (file) => {
if (onPlayAudio && file) onPlayAudio(file);
};

switch (mode) {
case 'title': return (
<div className="w-full h-screen flex flex-col items-center justify-center text-center
animate-in fade-in slide-in-from-bottom-4 duration-500
bg-gradient-to-b from-slate-950 to-slate-900 p-6">

{/* Icon with glow */}
<div className="mb-8 relative">
<div className="absolute inset-0 bg-cyan-500/20 blur-3xl w-40 h-40 rounded-full" />
<div className="relative text-8xl">
{typeof data.icon === 'string' ? data.icon: '‚ú®'
}
</div>
</div>

<h1 className="text-5xl md:text-6xl font-black text-white mb-4
uppercase tracking-tight leading-tight max-w-2xl">
{data.title
}
</h1>

{
data.subtitle && (
<p className="text-lg md:text-xl text-cyan-300 mb-8 font-semibold">
{
data.subtitle
}
</p>
)
}

<p className="text-lg text-slate-300 max-w-lg mx-auto leading-relaxed font-light">
{
data.description
}
</p>
</div>
);

case 'meet-teams': return (
<div className="w-full min-h-screen flex flex-col items-center justify-center
bg-gradient-to-b from-slate-950 to-slate-900 p-6
animate-in zoom-in duration-500">

<h2 className="text-4xl md:text-5xl font-black text-white mb-12
uppercase italic tracking-tight">
{data.title || 'Meet the Teams'}
</h2>

<div className="grid grid-cols-1 md:grid-cols-2 gap-8 w-full max-w-2xl">

{/* Sun Team */}
<div className="group relative overflow-hidden rounded-3xl
bg-gradient-to-br from-amber-500/10 to-orange-900/10
border border-amber-500/30 hover: border-amber-500/60
p-8 transition-all duration-300 hover: scale-105">
<div className="absolute inset-0 bg-gradient-to-br from-amber-500/5 to-transparent
opacity-0 group-hover: opacity-100 transition-opacity" />

<div className="relative text-center">
<Sun size={48} className="text-amber-400 mx-auto mb-4" />
<h3 className="text-2xl font-black text-amber-300 mb-2">
SOLAR TEAM
</h3>
<p className="text-sm text-amber-200/80 font-light">
Open mouth, natural voice. Like saying "Ahhh"
</p>
</div>
</div>

{/* Moon Team */}
<div className="group relative overflow-hidden rounded-3xl
bg-gradient-to-br from-indigo-500/10 to-blue-900/10
border border-indigo-500/30 hover: border-indigo-500/60
p-8 transition-all duration-300 hover: scale-105">
<div className="absolute inset-0 bg-gradient-to-br from-indigo-500/5 to-transparent
opacity-0 group-hover: opacity-100 transition-opacity" />

<div className="relative text-center">
<Moon size={48} className="text-indigo-400 mx-auto mb-4" />
<h3 className="text-2xl font-black text-indigo-300 mb-2">
LUNAR TEAM
</h3>
<p className="text-sm text-indigo-200/80 font-light">
Round mouth, deeper voice. Like saying "Ohhh"
</p>
</div>
</div>
</div>
</div>
);

case 'theory': case 'rule': return (
<div className="w-full min-h-screen flex flex-col items-center justify-center
bg-gradient-to-b from-slate-950 to-slate-900 p-6
animate-in fade-in duration-500">

<div className="w-full max-w-3xl">

{/* Title */}
<h2 className="text-5xl md:text-6xl font-black italic uppercase text-white mb-8
tracking-tight text-center leading-tight">
{
data.title || 'Theory Block'}
</h2>

{
/* Main description */
}
<div className="text-lg md:text-xl text-slate-200 leading-relaxed space-y-6 mb-8
text-center font-light">
{Array.isArray(data.description)
? data.description.map((line, i) => (
<p key={
i
} className="text-lg">
{
line
}
</p>
)): <p className="text-lg">{data.description}</p>
}
</div>

{/* Examples */}
{data.examples && (
<div className="space-y-4 mb-12">
{data.examples.map((ex, i) => {
const obj = typeof ex === "string" ? {text: ex, kind: "plain"}: ex;
const isKhmer = obj.kind === "khmer";
const isLabel = obj.kind === "label";
const isLatin = obj.kind === "latin";

if (isLabel) {
return (
<p key={i} className="text-sm text-slate-400 tracking-widest
uppercase font-semibold text-center">
{obj.text}
</p>
);
}

const boxClass = `
group relative rounded-2xl border transition-all duration-300
px-6 md: px-8 py-6 md:py-8 text-center cursor-pointer
hover: scale-105 hover: shadow-xl
${
isKhmer
? 'bg-gradient-to-br from-slate-800/50 to-slate-800/20 border-slate-700/50 hover:border-cyan-500/50': 'bg-gradient-to-br from-slate-800/40 to-slate-800/10 border-slate-700/50 hover:border-cyan-500/50'
}
`;

const textClass = `
${isKhmer
? 'text-3xl md:text-4xl text-cyan-200 font-semibold leading-relaxed': 'text-lg md:text-xl text-cyan-300 font-mono'
}
`;

const content = (
<div className={boxClass
}>
<div className="relative">
<div className={textClass
}>
{
obj.text
}
</div>
{
obj.audio && (
<div className="mt-3 flex items-center justify-center gap-2
text-xs text-cyan-400 opacity-0 group-hover:opacity-100
transition-opacity">
<Volume2 size={
14
} />
<span>Tap to listen</span>
</div>
)}
</div>
</div>
);

if (obj.audio) {
return (
<button
key={i}
onClick={
() => play(obj.audio)
}
className="w-full text-left focus:outline-none focus:ring-2
focus: ring-cyan-500 rounded-2xl"
>
{content}
</button>
);
}

return <div key={i}>{content}</div>;
})
}
</div>
)
}

{
/* Footer */
}
{data.footer && (
<div className="text-center pt-6 border-t border-slate-700/50
text-slate-300 text-base md: text-lg whitespace-pre-line
font-light leading-relaxed">
{data.footer}
</div>
)}

{/* Audio button */}
{data.audio && (
<button
onClick={() => play(data.audio)}
className="mt-8 flex items-center justify-center gap-3 px-8 py-3
bg-gradient-to-r from-cyan-500/20 to-blue-500/20
hover: from-cyan-500/30 hover: to-blue-500/30
rounded-full text-cyan-300 hover: text-cyan-200
font-bold transition-all border border-cyan-500/30 hover: border-cyan-500/60
mx-auto focus: outline-none focus: ring-2 focus: ring-cyan-500"
>
<Volume2 size={
20
} />
<span>Listen</span>
</button>
)}
</div>
</div>
);

case 'reading-algorithm': return (
<div className="w-full min-h-screen flex flex-col items-center justify-center
bg-gradient-to-b from-slate-950 to-slate-900 p-6
animate-in fade-in duration-500">

<div className="w-full max-w-2xl">
<h2 className="text-4xl md:text-5xl font-black text-white mb-12
text-center uppercase tracking-tight">
{data.title || 'How to read'}
</h2>

<div className="space-y-4">
{(data.steps || []).map((step, idx) => (
<div key={
idx
}
className="flex items-start gap-4 bg-gradient-to-r from-emerald-500/10 to-transparent
p-6 rounded-2xl border border-emerald-500/20 hover: border-emerald-500/50
transition-all duration-300 hover: translate-x-1">

<div className="h-8 w-8 rounded-full bg-gradient-to-br from-emerald-500 to-emerald-600
text-white flex items-center justify-center font-bold text-sm shrink-0">
{idx + 1}
</div>

<p className="text-slate-200 font-medium text-base leading-relaxed pt-1">
{
step
}
</p>
</div>
))}
</div>
</div>
</div>
);

case 'ready': return (
<div className="w-full h-screen flex flex-col items-center justify-center
text-center bg-gradient-to-b from-slate-950 to-slate-900
animate-pulse-slow p-6">

<div className="text-7xl md:text-8xl mb-8 animate-bounce">üèÜ</div>

<h2 className="text-4xl md:text-5xl font-black text-white mb-4
uppercase italic tracking-tight">
{data.title}
</h2>

<p className="text-lg text-slate-300 max-w-md mx-auto font-light">
{data.description}
</p>
</div>
);

case 'intro': return (
<div className="w-full h-screen flex flex-col items-center justify-center
text-center bg-gradient-to-b from-slate-950 to-slate-900
animate-in fade-in duration-700 p-6">

<h2 className="text-5xl md:text-6xl font-black text-white mb-6
uppercase tracking-tight">
{
data.title
}
</h2>

<p className="text-xl text-slate-300 max-w-2xl font-light leading-relaxed">
{
data.text || data.description
}
</p>
</div>
);

default: return (
<div className="w-full h-screen flex flex-col items-center justify-center
text-center bg-gradient-to-b from-slate-950 to-slate-900 p-6">

<p className="text-red-400 font-bold mb-4 text-lg">
Unknown Slide Type: "{mode}"
</p>

<div className="bg-slate-800 p-4 rounded-lg text-left overflow-auto max-w-sm max-h-40
border border-slate-700">
<pre className="text-xs text-cyan-400 font-mono">
{
JSON.stringify(data, null, 2)
}
</pre>
</div>
</div>
);
}
}