1) Где вообще происходит маппинг типов на UI
Источник типов — элементы урока, которые приходят из БД (таблица lesson_items или fallback из lesson.content). Хук useLessonPlayer нормализует type в lowercase и кладёт type + data в items, которые потом рендерит экран урока. Это место — «источник правды» для того, какие типы может обработать UI.

Рендеринг — экран LessonPlayer по type выбирает конкретный компонент или кусок JSX. Это главный «диспетчер» отображения типов.

2) Маппинг типов (из вашего списка) → файлы/компоненты
Типы, которые обрабатываются в LessonPlayer
theory, title, meet-teams, rule, reading-algorithm, ready, intro
Рендерятся через UniversalTheorySlide (компонент отвечает за разные подтипы внутри switch).

learn_char → HeroSlide (компонент героя).

word_breakdown → InventorySlide (инвентарь).

visual_decoder → компонент VisualDecoder (встроен прямо в LessonPlayer).

vocab_card → карточка словаря (JSX внутри LessonPlayer).

quiz → экран квиза (JSX внутри LessonPlayer).

drill_choice → DrillChoiceSlide.

analysis → AnalysisSlide.

comparison_audio → ComparisonAudio.

no-spaces → блок с ConsonantStreamDrill (JSX внутри LessonPlayer).

Типы из списка БД, которые не вижу в рендере LessonPlayer
builder, summary, universal_theory, hero, inventory — в LessonPlayer нет веток/условий для этих типов (значит, на текущий момент UI их не показывает). Это видно из полного списка условий рендера типов в LessonPlayer.

Отдельно по summary: в README указано, что summary — тип для таблицы study_materials (глава/гайдбук), а не элемент урока lesson_items. То есть этот тип может жить в другой сущности БД и не обязан отображаться в LessonPlayer.

3) Кто за что отвечает (схема ответственности)
useLessonPlayer — загружает элементы урока из БД и нормализует типы (lowercase), формируя items.

LessonPlayer — главный роут/экран урока, который по type решает, какой компонент отрисовать.

Компоненты слайдов (UniversalTheorySlide, HeroSlide, InventorySlide, и др.) — непосредственно рисуют конкретный вид контента внутри карточки/экрана.

4) Что делать с типами, которые сейчас не отображаются
Если в БД есть типы hero/inventory/universal_theory/builder/summary, а на фронте они не отображаются:

нужно либо добавить в LessonPlayer обработку этих типов (например, связать hero → HeroSlide, inventory → InventorySlide),

либо переименовать типы в БД под те, что уже поддержаны (learn_char, word_breakdown, и т.п.).
(Это логический вывод из текущих веток рендера в LessonPlayer.)


1) title — титульный экран / “вау-вход”

Когда: начало урока/юнита, большие заголовки.
Что кладёшь: title, subtitle, description, icon (эмодзи или иконка).
Эффект: красиво открывает урок.

2) theory — объяснение понятия “человеческим языком”

Когда: объясняешь идею, даёшь контекст, рассказываешь правило простыми словами.
Что кладёшь:

description: массив строк (удобно для абзацев)

examples: список примеров (label, latin, khmer)

footer: заключение/подбадривание

audio: если хочешь озвучить сам блок
Эффект: “я понял(а), что происходит”.

➡️ Это твой главный тип для чтения, потому что можно делать “стена текста → пример → кхмерский пример с аудио”.

3) rule — правило (то же самое, но “это важно запомнить”)

Когда: короткое правило, подсказка, “никогда не делай так”.
По структуре: как theory, просто визуально воспринимается как правило.

4) reading-algorithm — пошаговый алгоритм

Когда: “делай так: 1… 2… 3…”
Что кладёшь: steps: ["...", "..."]
Эффект: превращает чтение в инструкцию, снимает тревогу.

5) learn_char — “герой-буква” (согласная)

Когда: представляешь новую букву, её имя/звук/серия (Sun/Moon).
Эффект: знакомство с буквой как с персонажем.

6) word_breakdown — “инвентарь/разбор слова”

Когда: показываешь, из каких частей состоит слово, какие глифы, как читается по шагам.
Эффект: “ага, я вижу механику”.

7) visual_decoder — интерактивный визуальный декодер

Когда: хочешь, чтобы ученик тыкал в буквы и видел/слышал, что происходит.
Эффект: самое сильное обучение чтению.

8) no-spaces — упражнение “нет пробелов”

Когда: показываешь стену текста и учишь глазами выцеплять куски.
Эффект: твой “киллер-фичер” для чтения.

9) vocab_card — карточка слова (SRS/повторение)

Когда: хочешь реальную лексику + озвучку + потом повторять.
Эффект: запоминание + база для интервала.

10) quiz — проверка

Когда: мини-квиз после блока, финальный квиз.
Эффект: закрепление и “я молодец”.

11) comparison_audio — “послушай разницу”

Когда: сравнить 2 звучания/2 варианта (Sun vs Moon, похожие слова).
Эффект: очень помогает слуху.

12) analysis — разбор “почему так”

Когда: после упражнения объяснить, почему был правильный ответ.
Эффект: “понял(а) причину, а не просто угадал(а)”.

13) meet-teams — экран про “команды” (Sun/Moon)

Когда: вводишь концепцию Series A vs O.
Эффект: один раз красиво объяснила — дальше всё держится.

14) intro — короткое сообщение/подводка

Когда: “сейчас будет то-то”, “не бойся”, “ты готов”.
Эффект: ритм и поддержка.

15) ready — финальный “ура / ты готов”

Когда: конец юнита/урока, перед квизом или перед переходом.
Эффект: эмоциональная точка.